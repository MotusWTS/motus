<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Filter alltags by activity — filterByActivity • motus</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Filter alltags by activity — filterByActivity" />
<meta property="og:description" content="The activity table is used to identify batches with too much noise.
Depending on the value of return these are filtered out, returned, or
identified in the alltags view with the column probability. No changes
to the database are made." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">motus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">4.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Filter <code>alltags</code> by <code>activity</code></h1>
    
    <div class="hidden name"><code>filterByActivity.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>activity</code> table is used to identify batches with too much noise.
Depending on the value of <code>return</code> these are filtered out, returned, or
identified in the <code>alltags</code> view with the column <code>probability</code>. <strong>No changes
to the database are made.</strong></p>
    </div>

    <pre class="usage"><span class='fu'>filterByActivity</span><span class='op'>(</span>
  <span class='va'>src</span>,
  return <span class='op'>=</span> <span class='st'>"good"</span>,
  view <span class='op'>=</span> <span class='st'>"alltags"</span>,
  minLen <span class='op'>=</span> <span class='fl'>3</span>,
  maxLen <span class='op'>=</span> <span class='fl'>5</span>,
  maxRuns <span class='op'>=</span> <span class='fl'>100</span>,
  ratio <span class='op'>=</span> <span class='fl'>0.85</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>src</th>
      <td><p>src_sqlite object representing the database</p></td>
    </tr>
    <tr>
      <th>return</th>
      <td><p>Character. One of "good" (return only 'good' runs), "bad"
(return only 'bad' runs), "all" (return all runs, but with a new
<code>probability</code> column which identifies 'bad' (0) and 'good' (1) runs.</p></td>
    </tr>
    <tr>
      <th>view</th>
      <td><p>Character. Which view to use, one of "alltags" (faster) or
"alltagsGPS" (with GPS data).</p></td>
    </tr>
    <tr>
      <th>minLen</th>
      <td><p>Numeric. The minimum run length to allow (equal to or below
this, all runs are 'bad')</p></td>
    </tr>
    <tr>
      <th>maxLen</th>
      <td><p>Numeric. The maximum run length to allow (equal to or above
this, all runs are 'good')</p></td>
    </tr>
    <tr>
      <th>maxRuns</th>
      <td><p>Numeric. The cutoff of number of runs in a batch (see Details)</p></td>
    </tr>
    <tr>
      <th>ratio</th>
      <td><p>Numeric. The ratio cutoff of runs length 2 to number of runs in
a batch (see Details)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>tbl_SQLiteConnection</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Runs are identified by the following:</p><ul>
<li><p>All runs with a length &gt;= <code>maxLen</code> are <strong>GOOD</strong></p></li>
<li><p>All runs with a length &lt;= <code>minLen</code> are <strong>BAD</strong></p></li>
<li><p>Runs with a length between <code>minLen</code> and <code>maxLen</code> are <strong>BAD</strong> IF both of the
following is true:</p><ul>
<li><p>belong to a batch where the number of runs is &gt;= <code>maxRuns</code></p></li>
<li><p>the ratio of runs with a length of 2 to the number of runs total
is &gt;= <code>ratio</code></p></li>
</ul></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples">filterByActivity,Filter <code>alltags</code> by <code>activity</code>,Filter alltags by activity — filterByActivity,filterByActivity.Rd,character(0),filterByActivity,character(0),list(title = "Description", contents = "<p>The <code>activity</code> table is used to identify batches with too much noise.\nDepending on the value of <code>return</code> these are filtered out, returned, or\nidentified in the <code>alltags</code> view with the column <code>probability</code>. <strong>No changes\nto the database are made.</strong></p>"),list(description = "The activity table is used to identify batches with too much noise.\nDepending on the value of return these are filtered out, returned, or\nidentified in the alltags view with the column probability. No changes\nto the database are made."),<span class='fu'>filterByActivity</span><span class='op'>(</span>
  <span class='va'>src</span>,
  return <span class='op'>=</span> <span class='st'>"good"</span>,
  view <span class='op'>=</span> <span class='st'>"alltags"</span>,
  minLen <span class='op'>=</span> <span class='fl'>3</span>,
  maxLen <span class='op'>=</span> <span class='fl'>5</span>,
  maxRuns <span class='op'>=</span> <span class='fl'>100</span>,
  ratio <span class='op'>=</span> <span class='fl'>0.85</span>
<span class='op'>)</span>,list(list(name = "src", description = "<p>src_sqlite object representing the database</p>"), list(name = "return", description = "<p>Character. One of \"good\" (return only 'good' runs), \"bad\"\n(return only 'bad' runs), \"all\" (return all runs, but with a new\n<code>probability</code> column which identifies 'bad' (0) and 'good' (1) runs.</p>"), list(name = "view", description = "<p>Character. Which view to use, one of \"alltags\" (faster) or\n\"alltagsGPS\" (with GPS data).</p>"), list(name = "minLen", 
    description = "<p>Numeric. The minimum run length to allow (equal to or below\nthis, all runs are 'bad')</p>"), list(name = "maxLen", description = "<p>Numeric. The maximum run length to allow (equal to or above\nthis, all runs are 'good')</p>"), list(name = "maxRuns", description = "<p>Numeric. The cutoff of number of runs in a batch (see Details)</p>"), list(name = "ratio", description = "<p>Numeric. The ratio cutoff of runs length 2 to number of runs in\na batch (see Details)</p>")),TRUE,<div class='input'>
<span class='co'>#' # download and access data from project 176 in sql format</span>
<span class='co'># usename and password are both "motus.sample"</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='va'>sql.motus</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tagme.html'>tagme</a></span><span class='op'>(</span><span class='fl'>176</span>, new <span class='op'>=</span> <span class='cn'>TRUE</span>, update <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># OR use example sql file included in `motus`</span>
<span class='va'>sql.motus</span> <span class='op'>&lt;-</span> <span class='fu'><a href='tagme.html'>tagme</a></span><span class='op'>(</span><span class='fl'>176</span>, update <span class='op'>=</span> <span class='cn'>FALSE</span>, 
                   dir <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, package <span class='op'>=</span> <span class='st'>"motus"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>tbl_good</span> <span class='op'>&lt;-</span> <span class='fu'>filterByActivity</span><span class='op'>(</span><span class='va'>sql.motus</span><span class='op'>)</span>
<span class='va'>tbl_bad</span> <span class='op'>&lt;-</span> <span class='fu'>filterByActivity</span><span class='op'>(</span><span class='va'>sql.motus</span>, return <span class='op'>=</span> <span class='st'>"bad"</span><span class='op'>)</span>
<span class='va'>tbl_all</span> <span class='op'>&lt;-</span> <span class='fu'>filterByActivity</span><span class='op'>(</span><span class='va'>sql.motus</span>, return <span class='op'>=</span> <span class='st'>"all"</span><span class='op'>)</span>


</div>,list(list(title = "Value", contents = "<p>tbl_SQLiteConnection</p>", slug = "value"), list(title = "Details", contents = "<p>Runs are identified by the following:</p><ul>\n<li><p>All runs with a length &gt;= <code>maxLen</code> are <strong>GOOD</strong></p></li>\n<li><p>All runs with a length &lt;= <code>minLen</code> are <strong>BAD</strong></p></li>\n<li><p>Runs with a length between <code>minLen</code> and <code>maxLen</code> are <strong>BAD</strong> IF both of the\nfollowing is true:</p><ul>\n<li><p>belong to a batch where the number of runs is &gt;= <code>maxRuns</code></p></li>\n<li><p>the ratio of runs with a length of 2 to the number of runs total\nis &gt;= <code>ratio</code></p></li>\n</ul></li>\n</ul>\n", 
    slug = "details")),2021,list(name = "motus", version = "4.0.5", authors = "John Brzustowski, Denis LePage, Birds Canada"),list(destination = "dev", mode = "release", version_label = "default", version_tooltip = "Released version", in_dev = FALSE),list(root = "../", title = "motus"),list(),list(type = "default", left = "<li>\n  <a href=\"../index.html\">\n    <span class=\"fas fa-home fa-lg\"></span>\n     \n  </a>\n</li>\n<li>\n  <a href=\"../reference/index.html\">Reference</a>\n</li>\n<li>\n  <a href=\"../news/index.html\">Changelog</a>\n</li>", right = ""),list(.present = TRUE),list(version = "1.6.1"),FALSE</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by John Brzustowski, Denis LePage, Birds Canada.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


