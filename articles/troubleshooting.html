<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="motus">
<title>Troubleshooting • motus</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Troubleshooting">
<meta property="og:description" content="motus">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">motus</a>

    <small class="nav-text text-light me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">5.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/motus.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01-introduction.html">Chapter 1 - Introduction</a>
    <a class="dropdown-item" href="../articles/02-installing-packages.html">Chapter 2 - Installing packages</a>
    <a class="dropdown-item" href="../articles/03-accessing-data.html">Chapter 3 - Accessing detections data</a>
    <a class="dropdown-item" href="../articles/04-deployments.html">Chapter 4 - Tag and receiver deployments</a>
    <a class="dropdown-item" href="../articles/05-data-cleaning.html">Chapter 5 - Data Cleaning</a>
    <a class="dropdown-item" href="../articles/06-exploring-data.html">Chapter 6 - Exploring detections data</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/troubleshooting.html">Troubleshooting</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../index.html">EN</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../fr/index.html">FR</a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="troubleshooting_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Troubleshooting</h1>
            
      
      
      <div class="d-none name"><code>troubleshooting.Rmd</code></div>
    </div>

    
    
<p>As a first step, always ensure you are using the latest version of the <code>motus</code> package (see <code><a href="../reference/checkVersion.html">checkVersion()</a></code>), and you have all required packages installed, loaded, and up to date (see <a href="#02-loading-packages.html">Chapter 2 - Loading packages</a>).</p>
<p>We have outline some problems and possible solutions for working with <code>motus</code>. Generally, if all else fails, uninstalling R and/or R Studio, and reinstalling the latest R version typically works. Depending on how much customization you have made to your R configuration, this may be the quickest option available.</p>
<div class="section level2">
<h2 id="installation-problems">Installation Problems<a class="anchor" aria-label="anchor" href="#installation-problems"></a>
</h2>
<p>Occasionally users run into problems while trying to install or update <code>motus</code>. Often this is related to problems with different versions of package dependencies. Here we suggest several solutions.</p>
<ol style="list-style-type: decimal">
<li>Update all packages before the installation</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span>
<span class="fu"><a href="https://remotes.r-lib.org/reference/update_packages.html" class="external-link">update_packages</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## pak (0.2.0.9000 -&gt; NA) [local]</span></code></pre>
<pre><code><span class="co">## Skipping 3 packages not available: rnaturalearthhires, motusData, motus</span></code></pre>
<pre><code><span class="co">## Skipping 1 packages ahead of CRAN: rnaturalearthdata</span></code></pre>
<pre><code><span class="co">## Error : Could not copy `pak` to `/tmp/RtmpbmOYsZ/filec6c65249b744`</span></code></pre>
<ol start="2" style="list-style-type: decimal">
<li>If the installation of Motus generates errors saying that some of the existing packages cannot be removed, you can try to quit any R session, manually delete the problematic package folder from your R libraries and manually install the package again before trying to install <code>motus.</code>
</li>
</ol>
<p>You can also try to set up a custom R library folder with <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code> and ensure that you have full write permissions on that folder, or try to start R in administrator (Windows) or SUDO mode (Linux/Ubuntu) and try installing again.</p>
<p>To set a custom library folder for installing new packages:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="st">"C:/r-libraries/"</span><span class="op">)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>In some cases, it is easier to upgrade R itself by reinstalling the newest version of R: <a href="https://cran.r-project.org/" class="external-link uri">https://cran.r-project.org/</a>. <strong>Note:</strong> While this results in a nice clean installation with fewer problems, it necessitates the re-installation of R packages which can be time-consuming.</li>
</ol>
<div class="section level3">
<h3 id="updating-motusfrom-a-much-earlier-version">Updating <code>motus</code>from a much earlier version<a class="anchor" aria-label="anchor" href="#updating-motusfrom-a-much-earlier-version"></a>
</h3>
<p>If you are updating your version of <code>motus</code> from a version &lt;1.5.0 to &gt;= 1.5.0 (i.e. from when <code>motusClient</code> was a separate package), you will have best results if you first remove <code>motus</code> and <code>motusClient</code> and reinstall from scratch:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/remove.packages.html" class="external-link">remove.packages</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"motus"</span>, <span class="st">"motusClient"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Now you can install v1.5.0+.</p>
</div>
<div class="section level3">
<h3 id="cannot-remove-old-versions">Cannot remove old versions<a class="anchor" aria-label="anchor" href="#cannot-remove-old-versions"></a>
</h3>
<p>If you get errors “cannot remove prior installation of package …” (e.g. <code>dplyr</code>) while trying to install motus, this could be due to having multiple R sessions active. You can try the following:</p>
<ol style="list-style-type: decimal">
<li>find out your R package library location: <code>Sys.getenv("R_LIBS_USER")</code> or <code><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths()</a></code>
</li>
<li>close any session of R and/or R Studio</li>
<li>in the library folder, manually delete the package that failed to remove (e.g. <code>dplyr</code>)</li>
<li>restart R and manually install the package again e.g. <code>install.packages("dplyr")</code>
</li>
</ol>
<p>Another possible cause of this problem relates to file permissions in your library folders (e.g. libraries installed in c:files-3.x.x). To confirm this, you can try running R “as administrator” (right-clicking the R icon), or use <code>SUDO R</code> (Linux/Ubuntu) and trying installation again. If this resolves your problem, you should consider setting your libraries in a new folder where your logged in user has full access:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># confirm the libPaths location(s)</span>
<span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="op">)</span>
<span class="co"># add a new libPaths default location</span>
<span class="fu"><a href="https://rdrr.io/r/base/libPaths.html" class="external-link">.libPaths</a></span><span class="op">(</span><span class="st">"c:/users/myusername/R/win-libraries"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="general-problems">General Problems<a class="anchor" aria-label="anchor" href="#general-problems"></a>
</h2>
<p>Many, <em>many</em>, problems arise from conflicts between R packages which may be out of date. If you have a problem that you can’t seem to resolve, try the following steps in order (stopping when the problem goes away):</p>
<ol style="list-style-type: decimal">
<li>Update <code>motus</code> and packages that <code>motus</code> depends on. (You may first need to install the <code>remotes</code> package). <strong>Re-start R</strong>
</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/update_packages.html" class="external-link">update_packages</a></span><span class="op">(</span><span class="st">"motus"</span><span class="op">)</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Update all your packages. <strong>Re-start R</strong>
</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/update_packages.html" class="external-link">update_packages</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Update R <a href="https://cran.r-project.org/" class="external-link uri">https://cran.r-project.org/</a>. (You may have to reinstall packages)</li>
</ol>
</div>
<div class="section level2">
<h2 id="logging-out-of-motus">Logging out of motus<a class="anchor" aria-label="anchor" href="#logging-out-of-motus"></a>
</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/motusLogout.html">motusLogout</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data-downloads">Data downloads<a class="anchor" aria-label="anchor" href="#data-downloads"></a>
</h2>
<p>While attempting to download data with the <code>motus</code> package, you may encounter errors, many of which are likely due to an interrupted connection. <strong>Always ensure you are connected to the internet when using the <code><a href="../reference/tagme.html">tagme()</a></code> function with <code>update = TRUE</code></strong>. Most issues can be solved by either logging out, or by restarting R and resuming the download.</p>
<p>To resume your data download, run <code><a href="../reference/tagme.html">tagme()</a></code> again, but do not include <code>new = TRUE</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="va">project.num</span>, update <span class="op">=</span> <span class="cn">TRUE</span>, dir <span class="op">=</span> <span class="va">...</span><span class="op">)</span></code></pre></div>
<p>If errors persist and you are unable to download your data, the server may be temporarily offline.</p>
<blockquote>
<p>Please contact Motus with any concerns at <a href="mailto:motus@birdscanada.org" class="email">motus@birdscanada.org</a>.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="google-maps">Google Maps<a class="anchor" aria-label="anchor" href="#google-maps"></a>
</h2>
<p>As of October 16, 2018 recent updates require the use of a Google key to access google maps. To obtain an access key, you must be a registered Google user with <strong>up to date billing information</strong>, however you do not have to pay for the service (for the first little while at least). To obtain a key:</p>
<ol style="list-style-type: decimal">
<li>login to the <a href="https://cloud.google.com/console/google/maps-apis/overview" class="external-link">Google Cloud Platform</a>.<br>
</li>
<li>If you do not already have a project then create one.<br>
</li>
<li>Check that you have current billing information - you will not be charged but it must be present and up to date.<br>
</li>
<li>Under the navigation menu on the left, click APIs &amp; Services &gt; Credentials, then click Create credentials &gt; API key.<br>
</li>
<li>You may need to enable Google Maps Static API. You can do this through the navigation menu in the upper left corner, and selecting APIs &amp; Services &gt; library, choosing “Google Maps Static API” and clicking “Enable”.</li>
</ol>
<p>Full details are listed under “Detailed Guide” <a href="https://developers.google.com/maps/documentation/javascript/get-api-key" class="external-link">here</a>. Note that you may have to enable Google Maps Static API. For troubleshooting see <a href="https://groups.google.com/forum/#!topic/motus-wts/UxqFIO6Pcmo" class="external-link">here</a> and <a href="https://groups.google.com/forum/#!topic/motus-wts/UxqFIO6Pcmo%20and%20https://github.com/dkahle/ggmap/issues/51" class="external-link">here</a>.</p>
<p>Once you have your access key, you’ll need to provide it with the call <code><a href="https://rdrr.io/pkg/ggmap/man/register_google.html" class="external-link">register_google()</a></code>, <strong>each time you start a new R session you will be required to enter your key.</strong></p>
<p>Then you can create Google maps with the <code>ggmap</code> package using the <code><a href="https://rdrr.io/pkg/ggmap/man/get_googlemap.html" class="external-link">get_googlemap()</a></code> function and specifying the lat/lon center of your map (as opposed to bounding box as with stamen maps).</p>
</div>
<div class="section level2">
<h2 id="common-errors">Common errors<a class="anchor" aria-label="anchor" href="#common-errors"></a>
</h2>
<div class="section level3">
<h3 id="i-cannot-access-project-176-i-download-0-records-from-project-176">I cannot access Project 176 / I download 0 records from Project 176<a class="anchor" aria-label="anchor" href="#i-cannot-access-project-176-i-download-0-records-from-project-176"></a>
</h3>
<p>Remember that project 176 is <em>only</em> accessible with the username and password: <strong><code>motus.sample</code></strong>.</p>
</div>
<div class="section level3">
<h3 id="i-get-the-message-auto-disconnecting-sqliteconnection-one-or-multiple-times-after-using-tagme">I get the message “Auto-disconnecting SQLiteConnection” one or multiple times after using <code>tagme()</code><a class="anchor" aria-label="anchor" href="#i-get-the-message-auto-disconnecting-sqliteconnection-one-or-multiple-times-after-using-tagme"></a>
</h3>
<p>If this occurs after data download has finished, this message can be ignored. If it occurs during an active download, the connection will usually be maintained and the download will continue. However if the download stops, simply run <code><a href="../reference/tagme.html">tagme()</a></code> again. If that does not work, we suggest <a href="#loggint-out-of-motus">logging out</a> of the motus package or restarting R and then <a href="#resume-data-download">resuming your download</a>.</p>
</div>
<div class="section level3">
<h3 id="i-get-an-internal-server-error-message-when-using-tagme----update-true">I get an “Internal Server Error” message when using <code>tagme(..., update = TRUE)</code><a class="anchor" aria-label="anchor" href="#i-get-an-internal-server-error-message-when-using-tagme----update-true"></a>
</h3>
<p>If you get this message while updating your <code>.motus</code> file, use <code><a href="../reference/tagme.html">tagme()</a></code> again to continue the download.</p>
</div>
<div class="section level3">
<h3 id="i-get-an-error-forbidden-message-when-using-tagme">I get an “Error: Forbidden” message when using <code>tagme()</code><a class="anchor" aria-label="anchor" href="#i-get-an-error-forbidden-message-when-using-tagme"></a>
</h3>
<p>This error may occur if you are attempting to download multiple projects simultaneously from the same user account. If you get this error, we suggest <a href="#loggint-out-of-motus">logging out</a> of the motus package and then <a href="#resume-data-download">resuming your download</a>.</p>
</div>
<div class="section level3">
<h3 id="i-get-an-error-object-xxxx-not-found-referring-to-a-table-or-field-name-or-some-of-your-examples-in-the-articles-do-not-work-">I get an error “Object ‘xxxx’ not found”, referring to a table or field name, or some of your examples in the articles do not work.<a class="anchor" aria-label="anchor" href="#i-get-an-error-object-xxxx-not-found-referring-to-a-table-or-field-name-or-some-of-your-examples-in-the-articles-do-not-work-"></a>
</h3>
<p>Be sure to start the steps from the top of the chapter and run them in sequential order. Another possibility is that your <code>.motus</code> database hasn’t been updated to support the latest version of the <code>motus</code> package.</p>
<p>To ensure that your <code>.motus</code> file is up-to-date with the <code>motus</code> package:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sql.motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="va">project.num</span>, dir<span class="op">=</span> <span class="va">...</span><span class="op">)</span>
<span class="fu"><a href="../reference/checkVersion.html">checkVersion</a></span><span class="op">(</span><span class="va">sql.motus</span><span class="op">)</span></code></pre></div>
<p>To correct any warnings, you should follow these steps:</p>
<ol style="list-style-type: decimal">
<li>download the latest version of the motus package (refer to <a href="02-loading-packages.html">Chapter 2 - Loading packages</a>).</li>
<li>terminate and restart your R session.</li>
<li>load the <code>motus</code> package using <code><a href="https://motuswts.github.io/motus/" class="external-link">library(motus)</a></code> in your R console.</li>
<li>load your sqlite file. Look for notes on the console indicating that your database is being updated.</li>
<li>check the version again.</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://motuswts.github.io/motus/" class="external-link">motus</a></span><span class="op">)</span>
<span class="va">sql</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="va">project.num</span>, dir<span class="op">=</span> <span class="va">...</span><span class="op">)</span>
<span class="fu"><a href="../reference/checkVersion.html">checkVersion</a></span><span class="op">(</span><span class="va">sql</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="i-get-an-error-error-in-rsqlite_connectdbname-loadable-extensions-flags-vfs-could-not-connect-to-database-unable-to-open-database-file-when-attempting-to-run-tagme">I get an error <code>Error in rsqlite_connect(dbname, loadable.extensions, flags, vfs) : Could not connect to database: unable to open database file</code> when attempting to run <code>tagme()</code><a class="anchor" aria-label="anchor" href="#i-get-an-error-error-in-rsqlite_connectdbname-loadable-extensions-flags-vfs-could-not-connect-to-database-unable-to-open-database-file-when-attempting-to-run-tagme"></a>
</h3>
<p>If you get this message, it’s likely that you’re attempting a new download or update to a nonexistant directory. The directory is specified in the <strong><code>dir = ""</code></strong> command of the <code><a href="../reference/tagme.html">tagme()</a></code> function. If the directory is not specified, files will be saved to your working directory. Use <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd()</a></code> to determine your current working directory. Use <code><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd()</a></code> to set a new working directory. To specify a location to save files from your working directory use <code>./</code> followed by the file path.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># show working directory, in this case it's "C:/Documents"</span>

<span class="co"># downloads data to your working directory</span>
<span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="va">proj.num</span>, new <span class="op">=</span> <span class="cn">TRUE</span>, update <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># downloads data to the data folder within your working directory</span>
<span class="co"># ie. the file path C:/Documents/data</span>
<span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="va">proj.num</span>, new <span class="op">=</span> <span class="cn">TRUE</span>, update <span class="op">=</span> <span class="cn">TRUE</span>, dir <span class="op">=</span> <span class="st">"./data/"</span><span class="op">)</span> 

<span class="co"># downloads data to the file path C:/Downloads</span>
<span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="va">proj.num</span>, new <span class="op">=</span> <span class="cn">TRUE</span>, update <span class="op">=</span> <span class="cn">TRUE</span>, dir <span class="op">=</span> <span class="st">"C:/Downloads"</span><span class="op">)</span> </code></pre></div>
</div>
<div class="section level3">
<h3 id="i-see-gps-coordinates-of-0-or-999">I see GPS coordinates of “0” or “999”<a class="anchor" aria-label="anchor" href="#i-see-gps-coordinates-of-0-or-999"></a>
</h3>
<p>These values are recorded from the GPS unit in the field.<br>
Values like these should be ignored, you can replace these with <code>NA</code>, or insert the <code>recvDeployLat</code>/<code>recvDeplOyLon</code> values which are taken from receiver deployment metadata entered by users.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="co">## to replace gpsLat/gpsLon values of NA, 0, or 999 with that of receiver deployment metadata in the alltags table, and read into a data.frame</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>df.alltags &lt;-<span class="st"> </span>tbl.alltags <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">recvLat =</span> <span class="kw">if_else</span>((<span class="kw">is.na</span>(gpsLat)<span class="op">|</span>gpsLat <span class="op">==</span><span class="st"> </span><span class="dv">0</span><span class="op">|</span>gpsLat <span class="op">==</span><span class="st"> </span><span class="dv">999</span>), </span>
<span id="cb16-4"><a href="#cb16-4"></a>                           recvDeployLat, gpsLat), </span>
<span id="cb16-5"><a href="#cb16-5"></a>         <span class="dt">recvLon =</span> <span class="kw">if_else</span>((<span class="kw">is.na</span>(gpsLon)<span class="op">|</span>gpsLon <span class="op">==</span><span class="st"> </span><span class="dv">0</span><span class="op">|</span>gpsLon <span class="op">==</span><span class="st"> </span><span class="dv">999</span>), </span>
<span id="cb16-6"><a href="#cb16-6"></a>                           recvDeployLon, gpsLon)</span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="kw">collect</span>() <span class="op">%&gt;%</span><span class="st"> </span>as.data.frame</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="i-see-port-with-a-value-of--1">I see port with a value of -1<a class="anchor" aria-label="anchor" href="#i-see-port-with-a-value-of--1"></a>
</h3>
<p>Port “-1” represents the “A1+A2+A3+A4” compound antenna which is sometimes reported in Lotek .DTA file detections. This likely means the receiver has combined the signal from 4 antennas to detect the tag.</p>
</div>
<div class="section level3">
<h3 id="i-get-the-error-error-in-rsqlite_fetchresptr-n-n-database-disk-image-is-malformed">I get the error <code>Error in rsqlite_fetch(res@ptr, n = n) : database disk image is malformed</code><a class="anchor" aria-label="anchor" href="#i-get-the-error-error-in-rsqlite_fetchresptr-n-n-database-disk-image-is-malformed"></a>
</h3>
<p>This is likely due to corrupt files which can occur during download. The easiest solution is to delete your current <code>.motus</code> file and download from scratch.</p>
<p>Of course, there is always the possibility that these articles contains errors!</p>
<p>For further problems, please contact <a href="mailto:motus@birdscanada.org" class="email">motus@birdscanada.org</a></p>
<blockquote>
<p><strong>What Next?</strong> <a href="index.html">Explore articles</a></p>
</blockquote>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Birds Canada, John Brzustowski, Denis Lepage.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
