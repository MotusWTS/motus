<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get started • motus</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get started">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">motus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">6.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/motus.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/01-introduction.html">Chapter 1 - Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/02-installing-packages.html">Chapter 2 - Installing packages</a></li>
    <li><a class="dropdown-item" href="../articles/03-accessing-data.html">Chapter 3 - Accessing detections data</a></li>
    <li><a class="dropdown-item" href="../articles/04-deployments.html">Chapter 4 - Tag and receiver deployments</a></li>
    <li><a class="dropdown-item" href="../articles/05-data-cleaning.html">Chapter 5 - Data Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/06-exploring-data.html">Chapter 6 - Exploring detections data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/troubleshooting.html">Troubleshooting</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MotusWTS/motus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MotusWTS/motus/blob/hotfix-bandNumber/vignettes/articles/motus.Rmd" class="external-link"><code>vignettes/articles/motus.Rmd</code></a></small>
      <div class="d-none name"><code>motus.Rmd</code></div>
    </div>

    
    
<!-- Parts of this were originally at the end of Chapter 3 - Accessing Data -->
<p>This is a quick introduction to downloading Motus data. Definitely
check out the various <a href="../index.html">articles</a> for more
details!</p>
<p>Let’s get started by loading the packages we’ll use (see also <a href="02-installing-packages.html">Chapter 2 - Installing
packages</a>.)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://motuswts.github.io/motus/">motus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></span></code></pre></div>
<p>Now we’ll download some data. Here we’re downloading project 176
(sample data, use user name and password ‘motus.sample’). You can use
your own project number or receiver name.</p>
<p>We use the <code><a href="../reference/tagme.html">tagme()</a></code> function to download the data</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sql_motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="fl">176</span>, dir <span class="op">=</span> <span class="st">"./data/"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Checking for new data in project 176</span></span></code></pre>
<pre><code><span><span class="co">## Updating metadata</span></span></code></pre>
<pre><code><span><span class="co">## activity:     1 new batch records to check</span></span></code></pre>
<pre><code><span><span class="co">## batchID  1977125 (#     1 of      1): got    156 activity records</span></span></code></pre>
<pre><code><span><span class="co">## Downloaded 156 activity records</span></span></code></pre>
<pre><code><span><span class="co">## nodeData:     0 new batch records to check</span></span></code></pre>
<pre><code><span><span class="co">## Fetching deprecated batches</span></span></code></pre>
<pre><code><span><span class="co">## Total deprecated batches: 6</span></span>
<span><span class="co">## New deprecated batches: 0</span></span></code></pre>
<p><code><a href="../reference/tagme.html">tagme()</a></code> includes several options. Here we’re using:</p>
<ul>
<li>
<code>new = FALSE</code> means the data base already exists, if it
doesn’t, change <code>FALSE</code> to <code>TRUE</code>
</li>
<li>
<code>dir = "./data/"</code> means the data base will be stored in
the <code>data</code> folder inside your current working directory</li>
</ul>
<p><code><a href="../reference/tagme.html">tagme()</a></code> stores a <code>project-176.motus</code> SQLite
data base in <code>./data/</code>.</p>
<p>We can access parts of the data base by referencing the SQL object we
created, <code>sql_motus</code></p>
<p>Here, we’ll retrieve the <code>alltags</code> view from the SQLite
database using the <code><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl()</a></code> function from the
<code>dplyr</code> package</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tbl_alltags</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql_motus</span>, <span class="st">"alltags"</span><span class="op">)</span></span></code></pre></div>
<p>Next, we can convert this to a data frame (a flat file; see <a href="03-accessing-data.html#converting-to-flat-data">Converting to flat
data in Chapter 3</a>)</p>
<p>Convert to flat (<code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect()</a></code>) and create a date/time
column <code>time</code> from the numeric timestamps,
<code>ts</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_alltags</span> <span class="op">&lt;-</span> <span class="va">tbl_alltags</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>time <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/as_date.html" class="external-link">as_datetime</a></span><span class="op">(</span><span class="va">ts</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>If you want to save this flat file, you can export as RDS (see <a href="03-accessing-data.html#exporting-detections">Exporting detections
in Chapter 3</a>)</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">df_alltags</span>, <span class="st">"my_motus_data.rds"</span><span class="op">)</span></span></code></pre></div>
<p>Use caution when producing a flat file as using the full suite of
fields can use a lot of memory. This can slow R down considerably when
dealing with large datasets.</p>
<div class="section level2">
<h2 id="workflow-summary">Workflow summary<a class="anchor" aria-label="anchor" href="#workflow-summary"></a>
</h2>
<p>For your own data we suggest creating a script (or scripts) with the
following workflow:</p>
<ol style="list-style-type: decimal">
<li>Download/update your data (see <a href="02-installing-packages.html">Chapter 2 - Installing packages</a>,
<a href="03-accessing-data.html">Chapter 3 - Accessing detections
data</a>)</li>
<li>Select variables of interest for the table you are working with
(typically <code>alltags</code>) (see <a href="03-accessing-data.html">Chapter 3 - Accessing detections data</a>,
<a href="04-deployments.html">Chapter 4 - Tag and receiver
deployments</a>)</li>
<li>Initial cleaning (see <a href="04-deployments.html">Chapter 4 - Tag
and receiver deployments</a> and <a href="05-data-cleaning.html">Chapter
5 - Data cleaning</a>)</li>
<li>Output the resulting data as an .rds file (see <a href="03-accessing-data.html#exporting-detections">Exporting detections
in Chapter 3</a>). We suggest using RDS instead of CSV, because the RDS
format preserves the underlying structure of the data (e.g. times stay
as times). If you want to export your data to another program, then a
CSV format might be preferred.</li>
</ol>
<blockquote>
<p><strong>What next?</strong> Check out the walkthrough starting with
<a href="01-introduction.html">Chapter 1 - Introduction</a> <span style="font-size: 70%">(<a href="index.html">Explore all
articles</a>)</span></p>
</blockquote>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Birds Canada, John Brzustowski, Denis Lepage.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
