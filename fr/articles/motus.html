<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started • motus</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="motus">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">motus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Version en développement">4.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/motus.html">Prise en main</a>
</li>
<li>
  <a href="../reference/index.html">Référence</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/motus.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/troubleshooting.html">Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/motus-data.html">Understanding Motus Data</a>
    </li>
    <li>
      <a href="../articles/database-variables.html">Database Variables</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="../articles/index.html">Plus d'articles...</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changements</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/motusWTS/motus/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../index.html">EN</a>
</li>
<li>
  <a href="../index.html">FR</a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="motus_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started</h1>
            
      
      <small class="dont-index">Source : <a href="https://github.com/motusWTS/motus/blob/HEAD/vignettes/articles/motus.Rmd" class="external-link"><code>vignettes/articles/motus.Rmd</code></a></small>
      <div class="hidden name"><code>motus.Rmd</code></div>

    </div>

    
    
<!-- Parts of this were originally at the end of Chapter 3 - Accessing Data -->
<p>This is a quick introduction to downloading Motus data. Definitely check out the various <a href="../index.html">articles</a> for more details!</p>
<p>Let’s get started by loading the packages we’ll use (see also <a href="02-installing-packages.html">Chapter 2 - Installing packages</a>.)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/motusWTS/motus" class="external-link">motus</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org" class="external-link">lubridate</a></span><span class="op">)</span></code></pre></div>
<p>Now we’ll download some data. Here we’re downloading project 176 (sample data, use user name and password ‘motus.sample’). You can use your own project number or receiver name.</p>
<p>We use the <code><a href="../reference/tagme.html">tagme()</a></code> function to download the data</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sql.motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="fl">176</span>, new <span class="op">=</span> <span class="cn">FALSE</span>, update <span class="op">=</span> <span class="cn">TRUE</span>, dir <span class="op">=</span> <span class="st">"./data/"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## Checking for new data in project 176</span></code></pre>
<pre><code><span class="co">## activity:     1 new batch records to check</span></code></pre>
<pre><code><span class="co">## batchID  1977125 (#     1 of      1): got    156 activity records</span></code></pre>
<pre><code><span class="co">## batchID  1977125 (#     1 of      1): got      0 activity records</span></code></pre>
<pre><code><span class="co">## Downloaded 156 activity records</span></code></pre>
<pre><code><span class="co">## nodeData:     0 new batch records to check</span></code></pre>
<p><code><a href="../reference/tagme.html">tagme()</a></code> includes several options. Here we’re using:</p>
<ul>
<li>
<code>new = FALSE</code> means the data base already exists, if it doesn’t, change <code>FALSE</code> to <code>TRUE</code>
</li>
<li>
<code>dir = "./data/"</code> means the data base will be stored in the <code>data</code> folder inside your current working directory</li>
</ul>
<p><code><a href="../reference/tagme.html">tagme()</a></code> stores a <code>project-176.motus</code> SQLite data base in <code>./data/</code>.</p>
<p>We can access parts of the data base by referencing the SQL object we created, <code>sql.motus</code></p>
<p>Here, we’ll retrieve the <code>alltags</code> view from the SQLite database using the <code><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl()</a></code> function from the <code>dplyr</code> package</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tbl.alltags</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql.motus</span>, <span class="st">"alltags"</span><span class="op">)</span></code></pre></div>
<p>Next, we can convert this to a data frame (a flat file; see <a href="03-accessing-data.html#converting-to-flat-data">Converting to flat data in Chapter 3</a>)</p>
<p>Convert to flat (<code><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect()</a></code>) and transform the time stamps into date/time format</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df.alltags</span> <span class="op">&lt;-</span> <span class="va">tbl.alltags</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/compute.html" class="external-link">collect</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ts <span class="op">=</span> <span class="fu"><a href="https://lubridate.tidyverse.org/reference/as_date.html" class="external-link">as_datetime</a></span><span class="op">(</span><span class="va">ts</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>If you want to save this flat file, you can export as RDS (see <a href="03-accessing-data.html#exporting-detections">Exporting detections in Chapter 3</a>)</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">df.alltags</span>, <span class="st">"my_motus_data.rds"</span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="workflow-summary">Workflow summary<a class="anchor" aria-label="anchor" href="#workflow-summary"></a>
</h2>
<p>For your own data we suggest creating a script (or scripts) with the following workflow:</p>
<ol style="list-style-type: decimal">
<li>Download/update your data (see <a href="02-installing-packages.html">Chapter 2 - Installing packages</a>, <a href="03-accessing-data.html">Chapter 3 - Accessing detections data</a>)</li>
<li>Select variables of interest for the table you are working with (typically <code>alltags</code>) (see <a href="03-accessing-data.html">Chapter 3 - Accessing detections data</a>, <a href="04-deployments.html">Chapter 4 - Tag and receiver deployments</a>)</li>
<li>Initial cleaning (see <a href="04-deployments.html">Chapter 4 - Tag and receiver deployments</a> and <a href="05-data-cleaning.html">Chapter 5 - Data cleaning</a>)</li>
<li>Output the resulting data as an .rds file (see <a href="03-accessing-data.html#exporting-detections">Exporting detections in Chapter 3</a>). We suggest using RDS instead of CSV, because the RDS format preserves the underlying structure of the data (e.g. times stay as times). If you want to export your data to another program, then a CSV format might be preferred.</li>
</ol>
<p>We caution that producing a flat file using the full suite of fields can use a lot of memory, and can slow R down considerably when dealing with large datasets. For some combinations of data sets and computers, it may be impossible to directly use data frames in R. If that is the case, then this is the point in your workflow where you should carefully consider the information you need from within your data set (for example, how it is aggregated) and simplify it. You can always return to this script and creating a new RDS file with different variables, or aggregated at a different scale.</p>
<blockquote>
<p><strong>What next?</strong> <a href="01-introduction.html">Check out the in-depth walkthrough starting with Chapter 1 - Introduction</a></p>
</blockquote>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Développé par John Brzustowski, Denis LePage, Birds Canada.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
