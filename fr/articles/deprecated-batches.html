<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="motus">
<title>Removing deprecated batches • motus</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Removing deprecated batches">
<meta property="og:description" content="motus">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Passer au contenu</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">motus</a>

    <small class="nav-text text-light me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Version en développement">5.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Activer la navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/motus.html">Prise en main</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/troubleshooting.html">Dépannage</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Fonctions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changements</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Activer la navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Rechercher" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../../index.html">EN</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../index.html">FR</a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="deprecated-batches_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Removing deprecated batches</h1>
            
      
      
      <div class="d-none name"><code>deprecated-batches.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://motuswts.github.io/motus/" class="external-link">motus</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span>

<span class="va">sql.motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tagme.html">tagme</a></span><span class="op">(</span><span class="fl">176</span>, update <span class="op">=</span> <span class="cn">TRUE</span>, new <span class="op">=</span> <span class="cn">TRUE</span>, dir <span class="op">=</span> <span class="st">"./data/"</span><span class="op">)</span></code></pre></div>
<p>As work progresses and data are fine-tuned, batches of data may be re-run on the Motus servers, and as a result, be assigned new batch numbers (see the section on <a href="motus-data.html#reprocessing-data">Reprocessing Data</a> in the <a href="motus-data.html">Understanding Motus Data</a> article).</p>
<p>This results is a disconnect between the user’s local data and the data on the server. When the user updates their data, they’ll have the new batches, but will also have the older, <em>deprecated</em> batches.</p>
<p>Users can see which batches have been deprecated in the <code>deprecated</code> table:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql.motus</span>, <span class="st">"deprecated"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># Source:   table&lt;deprecated&gt; [?? x 3]</span></span>
<span class="co">## <span style="color: #949494;"># Database: sqlite 3.38.5</span></span>
<span class="co"><span style="color: #949494;">## #   [/home/runner/work/motus/motus/vignettes/articles/data/project-176.motus]</span></span>
<span class="co">##   batchID batchFilter removed</span>
<span class="co">##     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">## <span style="color: #BCBCBC;">1</span>    <span style="text-decoration: underline;">6</span>000           4       0</span>
<span class="co">## <span style="color: #BCBCBC;">2</span>    <span style="text-decoration: underline;">6</span>001           4       0</span>
<span class="co">## <span style="color: #BCBCBC;">3</span>    <span style="text-decoration: underline;">6</span>002           4       0</span>
<span class="co">## <span style="color: #BCBCBC;">4</span>    <span style="text-decoration: underline;">6</span>003           4       0</span>
<span class="co">## <span style="color: #BCBCBC;">5</span>    <span style="text-decoration: underline;">6</span>004           4       0</span>
<span class="co">## <span style="color: #BCBCBC;">6</span>    <span style="text-decoration: underline;">6</span>005           4       0</span></code></pre>
<p>Each <code>batchID</code> listed represented a deprecated batch. The column <code>removed</code> indicates whether this batch has been removed from your data (<code>1</code>) or not (<code>0</code>).</p>
<p>This table is updated every time you update your data with a call to <code><a href="../reference/tagme.html">tagme()</a></code>. If you want to update it again (without removing anything), you can use</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sql.motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/deprecateBatches.html">deprecateBatches</a></span><span class="op">(</span><span class="va">sql.motus</span>, fetchOnly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">## Fetching deprecated batches</span>
<span class="co">## Total deprecated batches: 6</span>
<span class="co">## New deprecated batches: 0</span></code></pre></div>
<p>To see where these batches are in your data, you can filter for the IDs in a specific table</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql.motus</span>, <span class="st">"alltags"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">batchID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6000</span>, <span class="fl">6001</span>, <span class="fl">6002</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># Source:   lazy query [?? x 62]</span></span>
<span class="co">## <span style="color: #949494;"># Database: sqlite 3.38.5</span></span>
<span class="co"><span style="color: #949494;">## #   [/home/runner/work/motus/motus/vignettes/articles/data/project-176.motus]</span></span>
<span class="co">##       hitID   runID batchID          ts tsCorrected   sig sigsd noise  freq freqsd   slop</span>
<span class="co">##       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 1</span> 23<span style="text-decoration: underline;">271</span>881 1<span style="text-decoration: underline;">822</span>216    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">894</span>945. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">894</span>945. -<span style="color: #BB0000;">68.2</span> 10.9  -<span style="color: #BB0000;">76.3</span>  2.07 0.127  0.003<span style="text-decoration: underline;">4</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 2</span> 23<span style="text-decoration: underline;">271</span>882 1<span style="text-decoration: underline;">822</span>216    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">894</span>995. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">894</span>995. -<span style="color: #BB0000;">67.9</span> 18.9  -<span style="color: #BB0000;">75.7</span>  1.98 0.185  0.001<span style="text-decoration: underline;">9</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 3</span> 23<span style="text-decoration: underline;">284</span>651 1<span style="text-decoration: underline;">828</span>340    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">916</span>706. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">916</span>706. -<span style="color: #BB0000;">68.7</span> 34.9  -<span style="color: #BB0000;">76.4</span>  2.00 0.11   0.004<span style="text-decoration: underline;">5</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 4</span> 23<span style="text-decoration: underline;">284</span>652 1<span style="text-decoration: underline;">828</span>340    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">916</span>736. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">916</span>736. -<span style="color: #BB0000;">68.9</span> 15.3  -<span style="color: #BB0000;">76.7</span>  1.90 0.031<span style="text-decoration: underline;">5</span> 0.004<span style="text-decoration: underline;">7</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 5</span> 23<span style="text-decoration: underline;">306</span>136 1<span style="text-decoration: underline;">838</span>711    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>561. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>561. -<span style="color: #BB0000;">68.1</span>  8.84 -<span style="color: #BB0000;">76.9</span>  1.92 0.035<span style="text-decoration: underline;">1</span> 0.004<span style="text-decoration: underline;">7</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 6</span> 23<span style="text-decoration: underline;">306</span>137 1<span style="text-decoration: underline;">838</span>711    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>612. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>612. -<span style="color: #BB0000;">69.3</span> 14.8  -<span style="color: #BB0000;">76.4</span>  1.91 0.067<span style="text-decoration: underline;">5</span> 0.001<span style="text-decoration: underline;">3</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 7</span> 23<span style="text-decoration: underline;">306</span>412 1<span style="text-decoration: underline;">838</span>841    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>709. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>709. -<span style="color: #BB0000;">69.7</span> 22.9  -<span style="color: #BB0000;">76.8</span>  1.88 0.035<span style="text-decoration: underline;">6</span> 0.004<span style="text-decoration: underline;">7</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 8</span> 23<span style="text-decoration: underline;">306</span>413 1<span style="text-decoration: underline;">838</span>841    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>759. <span style="text-decoration: underline;">1</span>487<span style="text-decoration: underline;">954</span>759. -<span style="color: #BB0000;">69.3</span> 17.8  -<span style="color: #BB0000;">76.4</span>  1.88 0.071<span style="text-decoration: underline;">6</span> 0.002<span style="text-decoration: underline;">2</span></span>
<span class="co">## <span style="color: #BCBCBC;"> 9</span> 23<span style="text-decoration: underline;">322</span>817 1<span style="text-decoration: underline;">846</span>692    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>488<span style="text-decoration: underline;">002</span>715. <span style="text-decoration: underline;">1</span>488<span style="text-decoration: underline;">002</span>715. -<span style="color: #BB0000;">67.3</span> 15.0  -<span style="color: #BB0000;">75.3</span>  1.91 0.116  0.004<span style="text-decoration: underline;">6</span></span>
<span class="co">## <span style="color: #BCBCBC;">10</span> 23<span style="text-decoration: underline;">322</span>818 1<span style="text-decoration: underline;">846</span>692    <span style="text-decoration: underline;">6</span>000 <span style="text-decoration: underline;">1</span>488<span style="text-decoration: underline;">002</span>746. <span style="text-decoration: underline;">1</span>488<span style="text-decoration: underline;">002</span>746. -<span style="color: #BB0000;">67.9</span> 21.5  -<span style="color: #BB0000;">76.0</span>  2.00 0.166  0.004<span style="text-decoration: underline;">8</span></span>
<span class="co">## <span style="color: #949494;"># … with more rows, and 51 more variables: burstSlop &lt;dbl&gt;, done &lt;int&gt;, motusTagID &lt;int&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   ambigID &lt;int&gt;, port &lt;chr&gt;, nodeNum &lt;chr&gt;, runLen &lt;int&gt;, motusFilter &lt;dbl&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   bootnum &lt;int&gt;, tagProjID &lt;int&gt;, mfgID &lt;chr&gt;, tagType &lt;chr&gt;, codeSet &lt;chr&gt;, mfg &lt;chr&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   tagModel &lt;chr&gt;, tagLifespan &lt;dbl&gt;, nomFreq &lt;dbl&gt;, tagBI &lt;dbl&gt;, pulseLen &lt;dbl&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   tagDeployID &lt;int&gt;, speciesID &lt;int&gt;, markerNumber &lt;chr&gt;, markerType &lt;chr&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   tagDeployStart &lt;dbl&gt;, tagDeployEnd &lt;dbl&gt;, tagDepLat &lt;dbl&gt;, tagDepLon &lt;dbl&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   tagDepAlt &lt;dbl&gt;, tagDepComments &lt;chr&gt;, tagDeployTest &lt;int&gt;, fullID &lt;chr&gt;, …</span></span></code></pre>
<p>Deprecated batches can also be removed with the <code><a href="../reference/deprecateBatches.html">deprecateBatches()</a></code> function, which, by default, fetches the update-to-date record of deprecated batches and then removes them.</p>
<p>However, <strong>once removed, deprecated batches are gone for good</strong>. It is advisable to backup your dataset before proceeding (<a href="#why-not-remove-deprecated">see below</a>).</p>
<p>Just in case, <code><a href="../reference/deprecateBatches.html">deprecateBatches()</a></code> will ask you if you are sure you want to remove the batches before proceeding.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sql.motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/deprecateBatches.html">deprecateBatches</a></span><span class="op">(</span><span class="va">sql.motus</span><span class="op">)</span></code></pre></div>
<pre><code>You are about to permanently delete up to 6 deprecated batches from project-176.motus
Continue? 

1: Yes
2: No

Selection: 1</code></pre>
<pre><code><span class="co">## Fetching deprecated batches</span>
<span class="co">## Total deprecated batches: 6</span>
<span class="co">## New deprecated batches: 0</span>
<span class="co">##   232 deprecated rows deleted from runs</span>
<span class="co">##   473 deprecated rows deleted from hits</span>
<span class="co">##   780 deprecated rows deleted from activity</span>
<span class="co">##   232 deprecated rows deleted from batchRuns</span>
<span class="co">##   6 deprecated rows deleted from projBatch</span>
<span class="co">##   6 deprecated rows deleted from batches</span>
<span class="co">## Total deprecated batches removed: 6</span></code></pre>
<p>After removal, you can see that the batches have been removed from the data</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql.motus</span>, <span class="st">"alltags"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">batchID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6000</span>, <span class="fl">6001</span>, <span class="fl">6002</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># Source:   lazy query [?? x 62]</span></span>
<span class="co">## <span style="color: #949494;"># Database: sqlite 3.38.5</span></span>
<span class="co"><span style="color: #949494;">## #   [/home/runner/work/motus/motus/vignettes/articles/data/project-176.motus]</span></span>
<span class="co">## <span style="color: #949494;"># … with 62 variables: hitID &lt;int&gt;, runID &lt;int&gt;, batchID &lt;int&gt;, ts &lt;dbl&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   tsCorrected &lt;lgl&gt;, sig &lt;dbl&gt;, sigsd &lt;dbl&gt;, noise &lt;dbl&gt;, freq &lt;dbl&gt;, freqsd &lt;dbl&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   slop &lt;dbl&gt;, burstSlop &lt;dbl&gt;, done &lt;int&gt;, motusTagID &lt;lgl&gt;, ambigID &lt;int&gt;, port &lt;chr&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   nodeNum &lt;chr&gt;, runLen &lt;int&gt;, motusFilter &lt;dbl&gt;, bootnum &lt;int&gt;, tagProjID &lt;int&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   mfgID &lt;chr&gt;, tagType &lt;chr&gt;, codeSet &lt;chr&gt;, mfg &lt;chr&gt;, tagModel &lt;chr&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   tagLifespan &lt;dbl&gt;, nomFreq &lt;dbl&gt;, tagBI &lt;dbl&gt;, pulseLen &lt;dbl&gt;, tagDeployID &lt;int&gt;,</span></span>
<span class="co">## <span style="color: #949494;">#   speciesID &lt;int&gt;, markerNumber &lt;chr&gt;, markerType &lt;chr&gt;, tagDeployStart &lt;dbl&gt;, …</span></span></code></pre>
<p>Also that the <code>deprecated</code> table now lists <code>removed</code> as 1.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql.motus</span>, <span class="st">"deprecated"</span><span class="op">)</span></code></pre></div>
<pre><code><span class="co">## <span style="color: #949494;"># Source:   table&lt;deprecated&gt; [?? x 3]</span></span>
<span class="co">## <span style="color: #949494;"># Database: sqlite 3.38.5</span></span>
<span class="co"><span style="color: #949494;">## #   [/home/runner/work/motus/motus/vignettes/articles/data/project-176.motus]</span></span>
<span class="co">##   batchID batchFilter removed</span>
<span class="co">##     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="co">## <span style="color: #BCBCBC;">1</span>    <span style="text-decoration: underline;">6</span>000           4       1</span>
<span class="co">## <span style="color: #BCBCBC;">2</span>    <span style="text-decoration: underline;">6</span>001           4       1</span>
<span class="co">## <span style="color: #BCBCBC;">3</span>    <span style="text-decoration: underline;">6</span>002           4       1</span>
<span class="co">## <span style="color: #BCBCBC;">4</span>    <span style="text-decoration: underline;">6</span>003           4       1</span>
<span class="co">## <span style="color: #BCBCBC;">5</span>    <span style="text-decoration: underline;">6</span>004           4       1</span>
<span class="co">## <span style="color: #BCBCBC;">6</span>    <span style="text-decoration: underline;">6</span>005           4       1</span></code></pre>
<div class="section level2">
<h2 id="why-not-remove-deprecated">Why <strong>not</strong> remove deprecated batches?<a class="anchor" aria-label="anchor" href="#why-not-remove-deprecated"></a>
</h2>
<p>In active projects it is a good idea to remove deprecated batches routinely, to ensure your data is update to date and as accurate as possible.</p>
<p>However, once removed, deprecated batches are gone for good. If you have an analysis or publication based on older data versions, this analysis is no longer repeatable as you no longer have the original batches.</p>
<p>It is therefore advisable to keep a copy of the database (i.e. the <code>XXXX.motus</code> file) you need for a specific analysis backed up and static (i.e. no updates and no removal of deprecated batches).</p>
<blockquote>
<p><strong>What Next?</strong> <a href="index.html">Explore all articles</a></p>
</blockquote>
</div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Développé par Birds Canada, John Brzustowski, Denis Lepage.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
