<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="fr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The activity table is used to identify batches with too much noise.
Depending on the value of return these are filtered out, returned, or
identified in the alltags view with the column probability. No changes
to the database are made."><title>Filter alltags by activity — filterByActivity • motus</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filter alltags by activity — filterByActivity"><meta property="og:description" content="The activity table is used to identify batches with too much noise.
Depending on the value of return these are filtered out, returned, or
identified in the alltags view with the column probability. No changes
to the database are made."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Passer au contenu</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">motus</a>

    <small class="nav-text text-light me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Version en développement">6.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Activer la navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/motus.html">Prise en main</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/index.html">Articles</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/troubleshooting.html">Dépannage</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Fonctions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changements</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Activer la navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Rechercher" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../../index.html">EN</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../index.html">FR</a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Filter <code>alltags</code> by <code>activity</code></h1>
      <small class="dont-index">Source : <a href="NA/NA/NA/blob/HEAD/R/filterByActivity.R"><code>R/filterByActivity.R</code></a></small>
      <div class="d-none name"><code>filterByActivity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>activity</code> table is used to identify batches with too much noise.
Depending on the value of <code>return</code> these are filtered out, returned, or
identified in the <code>alltags</code> view with the column <code>probability</code>. <strong>No changes
to the database are made.</strong></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Utilisation<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">filterByActivity</span><span class="op">(</span></span>
<span>  <span class="va">src</span>,</span>
<span>  return <span class="op">=</span> <span class="st">"good"</span>,</span>
<span>  view <span class="op">=</span> <span class="st">"alltags"</span>,</span>
<span>  minLen <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  maxLen <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  maxRuns <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  ratio <span class="op">=</span> <span class="fl">0.85</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>src</dt>
<dd><p>SQLite connection (result of <code>tagme(XXX)</code> or
<code>DBI::dbConnect(RSQLite::SQLite(), "XXX.motus")</code>)</p></dd>


<dt>return</dt>
<dd><p>Character. One of "good" (return only 'good' runs), "bad"
(return only 'bad' runs), "all" (return all runs, but with a new
<code>probability</code> column which identifies 'bad' (0) and 'good' (1) runs.</p></dd>


<dt>view</dt>
<dd><p>Character. Which view to use, one of "alltags" (faster) or
"alltagsGPS" (with GPS data).</p></dd>


<dt>minLen</dt>
<dd><p>Numeric. The minimum run length to allow (equal to or below
this, all runs are 'bad')</p></dd>


<dt>maxLen</dt>
<dd><p>Numeric. The maximum run length to allow (equal to or above
this, all runs are 'good')</p></dd>


<dt>maxRuns</dt>
<dd><p>Numeric. The cutoff of number of runs in a batch (see Details)</p></dd>


<dt>ratio</dt>
<dd><p>Numeric. The ratio cutoff of runs length 2 to number of runs in
a batch (see Details)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="valeur-de-retour">Valeur de retour<a class="anchor" aria-label="anchor" href="#valeur-de-retour"></a></h2>
    

<p>tbl_SQLiteConnection</p>
    </div>
    <div class="section level2">
    <h2 id="d-tails">Détails<a class="anchor" aria-label="anchor" href="#d-tails"></a></h2>
    <p>Runs are identified by the following:</p><ul><li><p>All runs with a length &gt;= <code>maxLen</code> are <strong>GOOD</strong></p></li>
<li><p>All runs with a length &lt;= <code>minLen</code> are <strong>BAD</strong></p></li>
<li><p>Runs with a length between <code>minLen</code> and <code>maxLen</code> are <strong>BAD</strong> IF both of the
following is true:</p><ul><li><p>belong to a batch where the number of runs is &gt;= <code>maxRuns</code></p></li>
<li><p>the ratio of runs with a length of 2 to the number of runs total
is &gt;= <code>ratio</code></p></li>
</ul></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Exemples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># download and access data from project 176 in sql format</span></span></span>
<span class="r-in"><span><span class="co"># username and password are both "motus.sample"</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="va">sql.motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="tagme.html">tagme</a></span><span class="op">(</span><span class="fl">176</span>, new <span class="op">=</span> <span class="cn">TRUE</span>, update <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># OR use example sql file included in `motus`</span></span></span>
<span class="r-in"><span><span class="va">sql.motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="tagme.html">tagme</a></span><span class="op">(</span><span class="fl">176</span>, update <span class="op">=</span> <span class="cn">FALSE</span>, </span></span>
<span class="r-in"><span>                   dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"motus"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tbl_good</span> <span class="op">&lt;-</span> <span class="fu">filterByActivity</span><span class="op">(</span><span class="va">sql.motus</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tbl_bad</span> <span class="op">&lt;-</span> <span class="fu">filterByActivity</span><span class="op">(</span><span class="va">sql.motus</span>, return <span class="op">=</span> <span class="st">"bad"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tbl_all</span> <span class="op">&lt;-</span> <span class="fu">filterByActivity</span><span class="op">(</span><span class="va">sql.motus</span>, return <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>Sur cette page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Développé par Birds Canada, John Brzustowski, Denis Lepage.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site créé avec <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

