<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Update all metadata — metadata • motus</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Update all metadata — metadata"><meta name="description" content="Updates the entire metadata for receivers and tags from Motus server.
Contrary to tagme(), this function retrieves the entire set of metadata for
tags and receivers, and not only those pertinent to the detections in your
local file."><meta property="og:description" content="Updates the entire metadata for receivers and tags from Motus server.
Contrary to tagme(), this function retrieves the entire set of metadata for
tags and receivers, and not only those pertinent to the detections in your
local file."><meta property="og:image" content="https://motuswts.github.io/motus/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">motus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">6.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/motus.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01-introduction.html">Chapter 1 - Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/02-installing-packages.html">Chapter 2 - Installing packages</a></li>
    <li><a class="dropdown-item" href="../articles/03-accessing-data.html">Chapter 3 - Accessing detections data</a></li>
    <li><a class="dropdown-item" href="../articles/04-deployments.html">Chapter 4 - Tag and receiver deployments</a></li>
    <li><a class="dropdown-item" href="../articles/05-data-cleaning.html">Chapter 5 - Data Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/06-exploring-data.html">Chapter 6 - Exploring detections data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/troubleshooting.html">Troubleshooting</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MotusWTS/motus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Update all metadata</h1>
      <small class="dont-index">Source: <a href="https://github.com/MotusWTS/motus/blob/hotfix-bandNumber/R/metadata.R" class="external-link"><code>R/metadata.R</code></a></small>
      <div class="d-none name"><code>metadata.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Updates the entire metadata for receivers and tags from Motus server.
Contrary to <code><a href="tagme.html">tagme()</a></code>, this function retrieves the entire set of metadata for
tags and receivers, and not only those pertinent to the detections in your
local file.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">metadata</span><span class="op">(</span><span class="va">src</span>, projectIDs <span class="op">=</span> <span class="cn">NULL</span>, replace <span class="op">=</span> <span class="cn">TRUE</span>, delete <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-src">src<a class="anchor" aria-label="anchor" href="#arg-src"></a></dt>
<dd><p>SQLite connection. Result of <code>tagme(XXX)</code> or
<code>DBI::dbConnect(RSQLite::SQLite(), "XXX.motus")</code>.</p></dd>


<dt id="arg-projectids">projectIDs<a class="anchor" aria-label="anchor" href="#arg-projectids"></a></dt>
<dd><p>optional integer vector of Motus projects IDs for which
metadata should be obtained; default: NULL, meaning obtain metadata for all
tags and receivers that your permissions allow.</p></dd>


<dt id="arg-replace">replace<a class="anchor" aria-label="anchor" href="#arg-replace"></a></dt>
<dd><p>logical scalar; if TRUE (default), existing data replace the
existing metadata with the newly acquired ones.</p></dd>


<dt id="arg-delete">delete<a class="anchor" aria-label="anchor" href="#arg-delete"></a></dt>
<dd><p>logical scalar; Default = FALSE. if TRUE, the entire metadata
tables are cleared (for all projects) before re-importing the metadata.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="tagme.html">tagme()</a></code> provides an option to update only the metadata
relevant to a specific project or receiver file.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Download sample project 176 to .motus database (username/password are "motus.sample")</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="va">sql_motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="tagme.html">tagme</a></span><span class="op">(</span><span class="fl">176</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or use example data base in memory</span></span></span>
<span class="r-in"><span><span class="va">sql_motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="tagmeSample.html">tagmeSample</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span>                   </span></span>
<span class="r-in"><span><span class="co"># Add extended metadata to your file</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="fu">metadata</span><span class="op">(</span><span class="va">sql_motus</span><span class="op">)</span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span><span class="co"># Access different metadata tables</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql_motus</span>, <span class="st">"species"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Source:   table&lt;`species`&gt; [?? x 6]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Database: sqlite 3.51.1 [:memory:]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       id english                french                    scientific group  sort</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>  <span style="text-decoration: underline;">4</span>180 Semipalmated Plover    Pluvier semipalmé         Charadriu… BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>  <span style="text-decoration: underline;">4</span>670 Red Knot               Bécasseau maubèche        Calidris … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>  <span style="text-decoration: underline;">4</span>680 Sanderling             Bécasseau sanderling      Calidris … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>  <span style="text-decoration: underline;">4</span>690 Semipalmated Sandpiper Bécasseau semipalmé       Calidris … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>  <span style="text-decoration: underline;">4</span>760 White-rumped Sandpiper Bécasseau à croupion bla… Calidris … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>  <span style="text-decoration: underline;">4</span>780 Pectoral Sandpiper     Bécasseau à poitrine cen… Calidris … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>  <span style="text-decoration: underline;">4</span>820 Dunlin                 Bécasseau variable        Calidris … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>  <span style="text-decoration: underline;">4</span>980 American Woodcock      Bécasse d'Amérique        Scolopax … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">15</span>560 Gray-cheeked Thrush    Grive à joues grises      Catharus … BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">19</span>050 White-crowned Sparrow  Bruant à couronne blanche Zonotrich… BIRDS    <span style="color: #BB0000;">NA</span></span>
<span class="r-in"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql_motus</span>, <span class="st">"projs"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Source:   table&lt;`projs`&gt; [?? x 5]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Database: sqlite 3.51.1 [:memory:]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id name                            label tagsPermissions sensorsPermissions</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>    47 Red Knot staging and migration… Niles              <span style="color: #BB0000;">NA</span>                 <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>    57 Selva Colombia                  Selva              <span style="color: #BB0000;">NA</span>                 <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>    82 Maine - American Woodcock       RBro…              <span style="color: #BB0000;">NA</span>                 <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>   146 Neonicotinoid insecticides and… NEON…              <span style="color: #BB0000;">NA</span>                 <span style="color: #BB0000;">NA</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>   176 Sample Data                     Samp…              <span style="color: #BB0000;">NA</span>                 <span style="color: #BB0000;">NA</span></span>
<span class="r-in"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/tbl.html" class="external-link">tbl</a></span><span class="op">(</span><span class="va">sql_motus</span>, <span class="st">"tagDeps"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Source:   table&lt;`tagDeps`&gt; [?? x 24]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># Database: sqlite 3.51.1 [:memory:]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    tagID deployID projectID    tsStart      tsEnd deferSec speciesID markerType</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> <span style="text-decoration: underline;">10</span>811     <span style="text-decoration: underline;">1</span>077        47 <span style="text-decoration: underline;">1</span>414<span style="text-decoration: underline;">479</span>600 <span style="text-decoration: underline;">1</span>438<span style="text-decoration: underline;">585</span>200        0      <span style="text-decoration: underline;">4</span>670 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> <span style="text-decoration: underline;">16</span>011     <span style="text-decoration: underline;">1</span>798       176 <span style="text-decoration: underline;">1</span>438<span style="text-decoration: underline;">515</span>600 <span style="text-decoration: underline;">1</span>450<span style="text-decoration: underline;">352</span>400        0      <span style="text-decoration: underline;">4</span>690 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> <span style="text-decoration: underline;">17</span>357     <span style="text-decoration: underline;">1</span>818       176 <span style="text-decoration: underline;">1</span>439<span style="text-decoration: underline;">277</span>600 <span style="text-decoration: underline;">1</span>451<span style="text-decoration: underline;">114</span>400        0      <span style="text-decoration: underline;">4</span>760 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> <span style="text-decoration: underline;">16</span>035     <span style="text-decoration: underline;">1</span>823       176 <span style="text-decoration: underline;">1</span>439<span style="text-decoration: underline;">371</span>200 <span style="text-decoration: underline;">1</span>451<span style="text-decoration: underline;">208</span>000        0      <span style="text-decoration: underline;">4</span>690 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> <span style="text-decoration: underline;">16</span>036     <span style="text-decoration: underline;">1</span>824       176 <span style="text-decoration: underline;">1</span>439<span style="text-decoration: underline;">371</span>200 <span style="text-decoration: underline;">1</span>451<span style="text-decoration: underline;">208</span>000        0      <span style="text-decoration: underline;">4</span>690 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> <span style="text-decoration: underline;">16</span>037     <span style="text-decoration: underline;">1</span>825       176 <span style="text-decoration: underline;">1</span>439<span style="text-decoration: underline;">807</span>400 <span style="text-decoration: underline;">1</span>451<span style="text-decoration: underline;">644</span>200        0      <span style="text-decoration: underline;">4</span>690 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> <span style="text-decoration: underline;">16</span>038     <span style="text-decoration: underline;">1</span>826       176 <span style="text-decoration: underline;">1</span>439<span style="text-decoration: underline;">807</span>400 <span style="text-decoration: underline;">1</span>451<span style="text-decoration: underline;">644</span>200        0      <span style="text-decoration: underline;">4</span>690 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> <span style="text-decoration: underline;">16</span>039     <span style="text-decoration: underline;">1</span>827       176 <span style="text-decoration: underline;">1</span>439<span style="text-decoration: underline;">804</span>400 <span style="text-decoration: underline;">1</span>451<span style="text-decoration: underline;">641</span>200        0      <span style="text-decoration: underline;">4</span>690 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> <span style="text-decoration: underline;">16</span>044     <span style="text-decoration: underline;">1</span>832       176 <span style="text-decoration: underline;">1</span>439<span style="text-decoration: underline;">362</span>800 <span style="text-decoration: underline;">1</span>451<span style="text-decoration: underline;">199</span>600        0      <span style="text-decoration: underline;">4</span>760 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> <span style="text-decoration: underline;">16</span>047     <span style="text-decoration: underline;">1</span>839       176 <span style="text-decoration: underline;">1</span>441<span style="text-decoration: underline;">908</span>000 <span style="text-decoration: underline;">1</span>457<span style="text-decoration: underline;">632</span>800        0      <span style="text-decoration: underline;">4</span>670 metal band</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 16 more variables: markerNumber &lt;chr&gt;, sex &lt;chr&gt;, age &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   latitude &lt;dbl&gt;, longitude &lt;dbl&gt;, elevation &lt;dbl&gt;, comments &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   test &lt;int&gt;, attachment &lt;chr&gt;, tsStartCode &lt;chr&gt;, tsEndCode &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   bandNumber &lt;chr&gt;, id &lt;int&gt;, bi &lt;int&gt;, fullID &lt;chr&gt;, status &lt;chr&gt;</span></span>
<span class="r-in"><span><span class="co"># Etc.</span></span></span>
<span class="r-in"><span>  </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Birds Canada, John Brzustowski, Denis Lepage.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

