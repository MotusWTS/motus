<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>report on or claim ambiguous tag detections — clarify • motus</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="report on or claim ambiguous tag detections — clarify"><meta property="og:description" content="A detections is &quot;ambiguous&quot; if the motus tag finder could not tell
which of several tags was detected, because they all produce the
same signal and were active at the same time.  The motus tag finder
uses tag deployment and lifetime metadata to decide what tags to
seek when, and notices when it can't distinguish between two or
more of them.  Detections of such tags during these periods of
overlap are assigned a negative motus tag ID that represents from 2
to 6 possible real motus tags.  The ambiguities might be real
(i.e. two or more tags transmitting the same signal and active at
the same time), or due to errors in tag registration or deployment
metadata."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">motus</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">4.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/motus.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/motus.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/troubleshooting.html">Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/motus-data.html">Understanding Motus Data</a>
    </li>
    <li>
      <a href="../articles/database-variables.html">Database Variables</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/index.html">More articles...</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/motusWTS/motus/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../index.html">EN</a>
</li>
<li>
  <a href="../fr/index.html">FR</a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>report on or claim ambiguous tag detections</h1>
    <small class="dont-index">Source: <a href="https://github.com/motusWTS/motus/blob/HEAD/R/clarify.R" class="external-link"><code>R/clarify.R</code></a></small>
    <div class="hidden name"><code>clarify.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A detections is "ambiguous" if the motus tag finder could not tell
which of several tags was detected, because they all produce the
same signal and were active at the same time.  The motus tag finder
uses tag deployment and lifetime metadata to decide what tags to
seek when, and notices when it can't distinguish between two or
more of them.  Detections of such tags during these periods of
overlap are assigned a negative motus tag ID that represents from 2
to 6 possible real motus tags.  The ambiguities might be real
(i.e. two or more tags transmitting the same signal and active at
the same time), or due to errors in tag registration or deployment
metadata.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">clarify</span><span class="op">(</span><span class="va">s</span>, <span class="va">id</span>, <span class="va">from</span>, <span class="va">to</span>, all.mine <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>s</dt>
<dd><p>dplyr::src to the tag database, as returned by <code><a href="tagme.html">tagme()</a></code></p></dd>
<dt>id</dt>
<dd><p>if not missing, a vector of negative motus ambiguous tag IDs
for which you wish to claim detections.  If missing, all tags are claimed
over any period specified by <code>from</code> and <code>to</code>.</p></dd>
<dt>from</dt>
<dd><p>if not missing, the start time for your claim to
ambiguous detections of tag(s) <code>id</code>.  If missing, you are
claiming all detections up to <code>to</code>.  <code>from</code> can be a
numeric timestamp, or a character string compatible with
<code><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">lubridate::ymd</a></code></p></dd>
<dt>to</dt>
<dd><p>if not missing, the end time for your claim to ambiguous
detections of tag(s) <code>id</code>.  If missing, you are claiming
all detections after <code>from</code>.  <code>to</code> can be a numeric
timestamp, or a character string compatible with
<code><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">lubridate::ymd</a></code></p></dd>
<dt>all.mine</dt>
<dd><p>logical; if TRUE, claim all ambiguous detections.
In this case, <code>id, from</code> and <code>to</code> are ignored.</p>
<p>If both <code>from</code> and <code>to</code> are missing, then all detections of
ambiguous tag(s) <code>id</code> are claimed.</p>
<p>Parameters <code>id</code>, <code>from</code>, and <code>to</code> are recycled to the
length of the longest item.</p>
<p>When you claim an ambiguous tag <code>T</code> for a period, any runs of <code>T</code>
which overlap that period at all are claimed entirely, even if they extend
beyond the period; i.e. runs are not split.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>with no parameters, returns a summary data frame of ambiguous tag detections, with these columns</p><ul><li><p>ambigID; integer: negative motus ambiguous tag ID, representing multiple possible real tags</p></li>
<li><p>numHits; numeric: total number of detections of this ambiguity</p></li>
<li><p>id1; integer: first possible motus ID of real tag that this detection might represent</p></li>
<li><p>fullID1; character: fullID for first possible real tag, in "Project#MFGID:BI@NOMFREQ(M.MotusID)" format</p></li>
<li><p>id2; integer: second possible motus ID of real tag that this detection might represent</p></li>
<li><p>fullID2; character: fullID for second possible real tag, in same format as fullID1</p></li>
<li><p>...</p></li>
<li><p>id6; integer: sixth possible motus ID of real tag that this detection might represent</p></li>
<li><p>fullID6; character: fullID for sixth possible real tag, in same format as fullID1</p></li>
<li><p>motusTagID; integer tag ID ambiguity was resolved to over some period</p></li>
<li><p>tsStart; numeric: timestamp of start of period for this ambiguity resolution</p></li>
<li><p>tsEnd; numeric: timestamp of end of period for this ambiguity resolution</p></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function serves two purposes:</p>
<ul><li><p>called with only a database dplyr::src, it reports the numbers
of ambiguous detections and what they could represent.</p></li>
<li><p>called with <code>id</code>, it lets you claim some of the ambiguities
as your own tag, so that in subsequent processing, they will appear
to be yours.</p></li>
</ul><p>This function does not (yet?) report your claim to motus.org</p>
<p>WARNING: you cannot undo a claim within a copy of the database.  If
unsure, copy the .motus file first, then run <code>clarify</code> on only
one copy.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co">## s = tagme(57) ## get a dplyr::src to the tag database for project 57</span></span>
<span class="r-in"><span class="co">## clarify(s)  ## report on the ambiguous tag detections in s</span></span>
<span class="r-in"><span class="co">## clarify(all.mine=TRUE) ## claim all ambiguous tag detections as mine</span></span>
<span class="r-in"><span class="co">## clarify(id = -57) ## claim all detections of ambiguous tag -57 as mine</span></span>
<span class="r-in"><span class="co">## clarify(id = c(-72, -88, -91), from=("2017-01-02"), to=("2017-05-06")) </span></span>
<span class="r-in"><span class="co">## claim all detections of ambiguous tags -72, -88, and -91 from</span></span>
<span class="r-in"><span class="co">##   January 2 through May 6, 2017, as mine</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by John Brzustowski, Denis LePage, Birds Canada.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

