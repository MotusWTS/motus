<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="A detections is &quot;ambiguous&quot; if the motus tag finder could not tell
which of several tags was detected, because they all produce the
same signal and were active at the same time.  The motus tag finder
uses tag deployment and lifetime metadata to decide what tags to
seek when, and notices when it can't distinguish between two or
more of them.  Detections of such tags during these periods of
overlap are assigned a negative motus tag ID that represents from 2
to 6 possible real motus tags.  The ambiguities might be real
(i.e. two or more tags transmitting the same signal and active at
the same time), or due to errors in tag registration or deployment
metadata."><title>Report or claim ambiguous tag detections — clarify • motus</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Report or claim ambiguous tag detections — clarify"><meta property="og:description" content="A detections is &quot;ambiguous&quot; if the motus tag finder could not tell
which of several tags was detected, because they all produce the
same signal and were active at the same time.  The motus tag finder
uses tag deployment and lifetime metadata to decide what tags to
seek when, and notices when it can't distinguish between two or
more of them.  Detections of such tags during these periods of
overlap are assigned a negative motus tag ID that represents from 2
to 6 possible real motus tags.  The ambiguities might be real
(i.e. two or more tags transmitting the same signal and active at
the same time), or due to errors in tag registration or deployment
metadata."><meta property="og:image" content="https://motuswts.github.io/motus/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-dark" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">motus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">6.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/motus.html">Get started</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/01-introduction.html">Chapter 1 - Introduction</a>
    <a class="dropdown-item" href="../articles/02-installing-packages.html">Chapter 2 - Installing packages</a>
    <a class="dropdown-item" href="../articles/03-accessing-data.html">Chapter 3 - Accessing detections data</a>
    <a class="dropdown-item" href="../articles/04-deployments.html">Chapter 4 - Tag and receiver deployments</a>
    <a class="dropdown-item" href="../articles/05-data-cleaning.html">Chapter 5 - Data Cleaning</a>
    <a class="dropdown-item" href="../articles/06-exploring-data.html">Chapter 6 - Exploring detections data</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/troubleshooting.html">Troubleshooting</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MotusWTS/motus/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Report or claim ambiguous tag detections</h1>
      <small class="dont-index">Source: <a href="https://github.com/MotusWTS/motus/blob/HEAD/R/clarify.R" class="external-link"><code>R/clarify.R</code></a></small>
      <div class="d-none name"><code>clarify.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A detections is "ambiguous" if the motus tag finder could not tell
which of several tags was detected, because they all produce the
same signal and were active at the same time.  The motus tag finder
uses tag deployment and lifetime metadata to decide what tags to
seek when, and notices when it can't distinguish between two or
more of them.  Detections of such tags during these periods of
overlap are assigned a negative motus tag ID that represents from 2
to 6 possible real motus tags.  The ambiguities might be real
(i.e. two or more tags transmitting the same signal and active at
the same time), or due to errors in tag registration or deployment
metadata.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">clarify</span><span class="op">(</span><span class="va">src</span>, <span class="va">id</span>, <span class="va">from</span>, <span class="va">to</span>, all.mine <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>src</dt>
<dd><p>SQLite connection. Result of <code>tagme(XXX)</code> or
<code>DBI::dbConnect(RSQLite::SQLite(), "XXX.motus")</code>.</p></dd>


<dt>id</dt>
<dd><p>if not missing, a vector of negative motus ambiguous tag IDs for
which you wish to claim detections.  If missing, all tags are claimed over
any period specified by <code>from</code> and <code>to</code>.</p></dd>


<dt>from</dt>
<dd><p>Character. If not missing, the start time for your claim to
ambiguous detections of tag(s) <code>id</code>.  If missing, you are claiming all
detections up to <code>to</code>.  <code>from</code> can be a numeric timestamp, or a character
string compatible with <code><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">lubridate::ymd()</a></code></p></dd>


<dt>to</dt>
<dd><p>Character. If not missing, the end time for your claim to ambiguous
detections of tag(s) <code>id</code>.  If missing, you are claiming all detections
after <code>from</code>. <code>to</code> can be a numeric timestamp, or a character string
compatible with <code><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">lubridate::ymd()</a></code></p></dd>


<dt>all.mine</dt>
<dd><p>Logical. If TRUE, claim all ambiguous detections. In this
case, <code>id</code>, <code>from</code> and <code>to</code> are ignored.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>With no parameters, returns a summary data frame of ambiguous tag
detections</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function serves two purposes:</p><ul><li><p>called with only a database, it reports the numbers of ambiguous detections
and what they could represent.</p></li>
<li><p>called with <code>id</code>, it lets you claim some of the ambiguities as your own
tag, so that in subsequent processing, they will appear to be yours.</p></li>
</ul><p>This function does not (yet?) report your claim to motus.org</p>
<p>WARNING: you cannot undo a claim within a copy of the database.  If
unsure, copy the .motus file first, then run <code>clarify</code> on only
one copy.</p>
<p>If both <code>from</code> and <code>to</code> are missing, then all detections of ambiguous tag(s)
<code>id</code> are claimed.</p>
<p>Parameters <code>id</code>, <code>from</code>, and <code>to</code> are recycled to the length of the longest
item.</p>
<p>When you claim an ambiguous tag <code>T</code> for a period, any runs of <code>T</code> which
overlap that period at all are claimed entirely, even if they extend beyond
the period; i.e. runs are not split.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu"><a href="tagme.html">tagme</a></span><span class="op">(</span><span class="fl">57</span><span class="op">)</span>         <span class="co"># get the tag database for project 57</span></span></span>
<span class="r-in"><span><span class="fu">clarify</span><span class="op">(</span><span class="va">s</span><span class="op">)</span>             <span class="co"># report on the ambiguous tag detections in s</span></span></span>
<span class="r-in"><span><span class="fu">clarify</span><span class="op">(</span>all.mine <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># claim all ambiguous tag detections as mine</span></span></span>
<span class="r-in"><span><span class="fu">clarify</span><span class="op">(</span>id <span class="op">=</span> <span class="op">-</span><span class="fl">57</span><span class="op">)</span>      <span class="co"># claim all detections of ambiguous tag -57 as mine</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">clarify</span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">72</span>, <span class="op">-</span><span class="fl">88</span>, <span class="op">-</span><span class="fl">91</span><span class="op">)</span>, from <span class="op">=</span> <span class="st">"2017-01-02"</span>, to <span class="op">=</span> <span class="st">"2017-05-06"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># claim all detections of ambiguous tags -72, -88, and -91 from</span></span></span>
<span class="r-in"><span><span class="co">#   January 2 through May 6, 2017, as mine</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Birds Canada, John Brzustowski, Denis Lepage.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

