<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Filter alltags by activity — filterByActivity • motus</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filter alltags by activity — filterByActivity"><meta name="description" content="The activity table is used to identify batches with too much noise.
Depending on the value of return these are filtered out, returned, or
identified in the alltags view with the column probability. No changes
to the database are made."><meta property="og:description" content="The activity table is used to identify batches with too much noise.
Depending on the value of return these are filtered out, returned, or
identified in the alltags view with the column probability. No changes
to the database are made."><meta property="og:image" content="https://motuswts.github.io/motus/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-dark" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">motus</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">6.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/motus.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01-introduction.html">Chapter 1 - Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/02-installing-packages.html">Chapter 2 - Installing packages</a></li>
    <li><a class="dropdown-item" href="../articles/03-accessing-data.html">Chapter 3 - Accessing detections data</a></li>
    <li><a class="dropdown-item" href="../articles/04-deployments.html">Chapter 4 - Tag and receiver deployments</a></li>
    <li><a class="dropdown-item" href="../articles/05-data-cleaning.html">Chapter 5 - Data Cleaning</a></li>
    <li><a class="dropdown-item" href="../articles/06-exploring-data.html">Chapter 6 - Exploring detections data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../articles/troubleshooting.html">Troubleshooting</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/MotusWTS/motus/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Filter <code>alltags</code> by <code>activity</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/MotusWTS/motus/blob/hotfix-bandNumber/R/filterByActivity.R" class="external-link"><code>R/filterByActivity.R</code></a></small>
      <div class="d-none name"><code>filterByActivity.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>activity</code> table is used to identify batches with too much noise.
Depending on the value of <code>return</code> these are filtered out, returned, or
identified in the <code>alltags</code> view with the column <code>probability</code>. <strong>No changes
to the database are made.</strong></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">filterByActivity</span><span class="op">(</span></span>
<span>  <span class="va">src</span>,</span>
<span>  return <span class="op">=</span> <span class="st">"good"</span>,</span>
<span>  view <span class="op">=</span> <span class="st">"alltags"</span>,</span>
<span>  minLen <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  maxLen <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  maxRuns <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  ratio <span class="op">=</span> <span class="fl">0.85</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-src">src<a class="anchor" aria-label="anchor" href="#arg-src"></a></dt>
<dd><p>SQLite connection. Result of <code>tagme(XXX)</code> or
<code>DBI::dbConnect(RSQLite::SQLite(), "XXX.motus")</code>.</p></dd>


<dt id="arg-return">return<a class="anchor" aria-label="anchor" href="#arg-return"></a></dt>
<dd><p>Character. One of "good" (return only 'good' runs), "bad"
(return only 'bad' runs), "all" (return all runs, but with a new
<code>probability</code> column which identifies 'bad' (0) and 'good' (1) runs.</p></dd>


<dt id="arg-view">view<a class="anchor" aria-label="anchor" href="#arg-view"></a></dt>
<dd><p>Character. Which view to use, one of "alltags" (faster) or
"alltagsGPS" (with GPS data).</p></dd>


<dt id="arg-minlen">minLen<a class="anchor" aria-label="anchor" href="#arg-minlen"></a></dt>
<dd><p>Numeric. The minimum run length to allow (equal to or below
this, all runs are 'bad')</p></dd>


<dt id="arg-maxlen">maxLen<a class="anchor" aria-label="anchor" href="#arg-maxlen"></a></dt>
<dd><p>Numeric. The maximum run length to allow (equal to or above
this, all runs are 'good')</p></dd>


<dt id="arg-maxruns">maxRuns<a class="anchor" aria-label="anchor" href="#arg-maxruns"></a></dt>
<dd><p>Numeric. The cutoff of number of runs in a batch (see Details)</p></dd>


<dt id="arg-ratio">ratio<a class="anchor" aria-label="anchor" href="#arg-ratio"></a></dt>
<dd><p>Numeric. The ratio cutoff of runs length 2 to number of runs in
a batch (see Details)</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>tbl_SQLiteConnection</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Runs are identified by the following:</p><ul><li><p>All runs with a length &gt;= <code>maxLen</code> are <strong>GOOD</strong></p></li>
<li><p>All runs with a length &lt;= <code>minLen</code> are <strong>BAD</strong></p></li>
<li><p>Runs with a length between <code>minLen</code> and <code>maxLen</code> are <strong>BAD</strong> IF both of the
following is true:</p><ul><li><p>belong to a batch where the number of runs is &gt;= <code>maxRuns</code></p></li>
<li><p>the ratio of runs with a length of 2 to the number of runs total
is &gt;= <code>ratio</code></p></li>
</ul></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Download sample project 176 to .motus database (username/password are "motus.sample")</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="va">sql_motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="tagme.html">tagme</a></span><span class="op">(</span><span class="fl">176</span>, new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># \dontrun{}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or use example data base in memory</span></span></span>
<span class="r-in"><span><span class="va">sql_motus</span> <span class="op">&lt;-</span> <span class="fu"><a href="tagmeSample.html">tagmeSample</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">tbl_good</span> <span class="op">&lt;-</span> <span class="fu">filterByActivity</span><span class="op">(</span><span class="va">sql_motus</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tbl_bad</span> <span class="op">&lt;-</span> <span class="fu">filterByActivity</span><span class="op">(</span><span class="va">sql_motus</span>, return <span class="op">=</span> <span class="st">"bad"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tbl_all</span> <span class="op">&lt;-</span> <span class="fu">filterByActivity</span><span class="op">(</span><span class="va">sql_motus</span>, return <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Birds Canada, John Brzustowski, Denis Lepage.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

